<?xml version="1.0" encoding="utf-8"?>
<UserControl x:Class="DebugDiag.Analysis.SettingPagesControl" xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:d="http://schemas.microsoft.com/expression/blend/2008" Background="#FFFFFFFF">
  <FrameworkElement.Resources>
    <ResourceDictionary>
      <ControlTemplate x:Key="ImageButtonControlTemplate" TargetType="{x:Type Button}">
        <ContentPresenter HorizontalAlignment="Left" Margin="20, 10" />
      </ControlTemplate>
      <Style x:Key="{x:Type ListBox}" TargetType="{x:Type ListBox}">
        <Setter Property="UIElement.SnapsToDevicePixels" Value="True" />
        <Setter Property="FrameworkElement.OverridesDefaultStyle" Value="True" />
        <Setter Property="Template">
          <Setter.Value>
            <ControlTemplate TargetType="{x:Type ListBox}">
              <Border Name="Border" BorderThickness="0">
                <StackPanel Margin="0" IsItemsHost="True" />
              </Border>
            </ControlTemplate>
          </Setter.Value>
        </Setter>
      </Style>
      <Style x:Key="{x:Type ListBoxItem}" TargetType="{x:Type ListBoxItem}">
        <Setter Property="UIElement.SnapsToDevicePixels" Value="True" />
        <Setter Property="FrameworkElement.OverridesDefaultStyle" Value="True" />
        <Setter Property="Foreground" Value="#FFFFFFFF" />
        <Setter Property="AutomationProperties.Name" Value="{Binding DisplayName}" />
        <Setter Property="Template">
          <Setter.Value>
            <ControlTemplate TargetType="{x:Type ListBoxItem}">
              <Border Name="Border" SnapsToDevicePixels="True" BorderThickness="0">
                <Border.Background>
                  <SolidColorBrush Color="Transparent" />
                </Border.Background>
                <VisualStateManager.VisualStateGroups>
                  <VisualStateGroup x:Name="SelectionStates">
                    <VisualState x:Name="Unselected" />
                    <VisualState x:Name="Selected">
                      <Storyboard>
                        <ColorAnimationUsingKeyFrames Storyboard.TargetName="Border" Storyboard.TargetProperty="(Panel.Background).(SolidColorBrush.Color)">
                          <EasingColorKeyFrame KeyTime="0" Value="{StaticResource SelectedBackgroundColor}" />
                        </ColorAnimationUsingKeyFrames>
                      </Storyboard>
                    </VisualState>
                    <VisualState x:Name="SelectedUnfocused">
                      <Storyboard>
                        <ColorAnimationUsingKeyFrames Storyboard.TargetName="Border" Storyboard.TargetProperty="(Panel.Background).(SolidColorBrush.Color)">
                          <EasingColorKeyFrame KeyTime="0" Value="{StaticResource SelectedUnfocusedColor}" />
                        </ColorAnimationUsingKeyFrames>
                      </Storyboard>
                    </VisualState>
                  </VisualStateGroup>
                  <VisualStateGroup x:Name="CommonStates">
                    <VisualState x:Name="MouseOver">
                      <Storyboard>
                        <ColorAnimationUsingKeyFrames Storyboard.TargetName="HighlightBorder" Storyboard.TargetProperty="(Panel.Background).(SolidColorBrush.Color)">
                          <EasingColorKeyFrame KeyTime="0" Value="{StaticResource HoverColor}" />
                        </ColorAnimationUsingKeyFrames>
                      </Storyboard>
                    </VisualState>
                    <VisualState x:Name="Normal">
                      <Storyboard>
                        <ColorAnimationUsingKeyFrames Storyboard.TargetName="HighlightBorder" Storyboard.TargetProperty="(Panel.Background).(SolidColorBrush.Color)">
                          <EasingColorKeyFrame KeyTime="0" Value="Transparent" />
                        </ColorAnimationUsingKeyFrames>
                      </Storyboard>
                    </VisualState>
                  </VisualStateGroup>
                </VisualStateManager.VisualStateGroups>
                <Border Name="HighlightBorder" SnapsToDevicePixels="True" Padding="20,10" BorderThickness="0">
                  <Border.Background>
                    <SolidColorBrush Color="Transparent" />
                  </Border.Background>
                  <ContentPresenter />
                </Border>
              </Border>
            </ControlTemplate>
          </Setter.Value>
        </Setter>
      </Style>
      <Storyboard x:Key="CloseAnimation" Completed="CloseAnimation_Completed">
        <DoubleAnimation Storyboard.TargetName="MyTransitionTransform" Storyboard.TargetProperty="X" From="0" To="-120" Duration="0:0:0.2" />
        <DoubleAnimation Storyboard.TargetName="MyContentControl" Storyboard.TargetProperty="Opacity" From="1" To="0" Duration="0:0:0.2" />
      </Storyboard>
      <Storyboard x:Key="OpenAnimation">
        <DoubleAnimation Storyboard.TargetName="MyTransitionTransform" Storyboard.TargetProperty="X" From="-120" To="0" Duration="0:0:0.2" />
        <DoubleAnimation Storyboard.TargetName="MyContentControl" Storyboard.TargetProperty="Opacity" From="0" To="1" Duration="0:0:0.2" />
      </Storyboard>
    </ResourceDictionary>
  </FrameworkElement.Resources>
  <Grid Background="#00FFFFFF">
    <UIElement.RenderTransform>
      <TranslateTransform x:Name="MyTransitionTransform" />
    </UIElement.RenderTransform>
    <Grid.RowDefinitions>
      <RowDefinition Height="Auto" />
      <RowDefinition Height="*" />
    </Grid.RowDefinitions>
    <Grid.ColumnDefinitions>
      <ColumnDefinition Width="120" />
      <ColumnDefinition Width="*" />
    </Grid.ColumnDefinitions>
    <Rectangle Grid.RowSpan="2" Fill="{StaticResource SettingsLeftAccentBrush}" />
    <Button Template="{StaticResource ImageButtonControlTemplate}" ToolTip="Back" Click="CloseButton_Click">
      <Image Height="32" Width="32" Source="{StaticResource BackImage}" />
    </Button>
    <ListBox Name="ListBox" Grid.Row="1" DisplayMemberPath="DisplayName" SelectedIndex="0" BorderBrush="#00FFFFFF" Background="#00FFFFFF" ItemsSource="{Binding}" />
    <Grid Row="0" RowSpan="2" Column="1" Background="#FFFFFFFF">
      <ContentControl Name="MyContentControl" DataContext="{Binding ElementName=ListBox, Path=SelectedItem}" Content="{Binding ViewModel}" />
    </Grid>
  </Grid>
</UserControl>